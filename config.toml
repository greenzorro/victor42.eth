# 站点基本信息
# 使用生产环境域名作为baseURL
baseURL = "https://victor42.eth.limo"
title = 'Victor42'
# 取消publishDir，让Hugo使用默认的public目录

# 主题配置 (Hugo Modules)
# 使用相对路径适配GitHub Pages预览和4EVERLAND生产环境
relativeURLs = true
canonifyURLs = false
buildfuture = true

# Hugo Modules配置
[module]
  [module.imports]
    path = "github.com/CaiJimmy/hugo-theme-stack/v3"

# Hugo资产处理配置 (Stack主题必需)
[asset]
  [asset.versioning]
    enable = true

# 语言配置
languageCode = 'en-us'
defaultContentLanguage = "zh-cn"
hasCJKLanguage = true

# 注意：不使用Hugo多语言功能
# 多语言通过translationKey在自定义模板中实现

# 站点参数
[params]
mainSections = ["post"]
author = "Victor42"
readingTime = true
defaultPageLanguage = "zh-cn"

# Author配置（Stack v3.32.0需要）
[params.Author]
name = "Victor42"
email = "greenzorromail@gmail.com"

# Google Analytics (GA4)
# 用于网站访问统计
GoogleAnalytics = "G-H0F3NJJ4RT"

# 侧边栏配置
[params.sidebar]
subtitle = "科学、纪录片、博物馆爱好者；Excel狂魔；蹩脚开发者；UI/UX设计师；生活观察者"

# 页脚配置
[params.footer]
since = 2011

# 小部件配置
[params.widgets]
  homepage = [
    { type = "archives", params = { limit = 5 } }
  ]
  page = [
    { type = "toc" }
  ]

# 头像配置
[params.avatar]
URL = "https://cdn.victor42.work/assets/pale-blue-dot.jpg"
alt = "Victor42 Avatar"
enabled = true
local = false

# Favicon配置
[params.favicon]
URL = "https://cdn.victor42.work/assets/favicon.ico"

# 菜单配置
[menu]
  [[menu.main]]
    identifier = "home"
    name = "主页 - Home"
    url = "/"
    weight = -100
    params = { newTab = false, icon = "home" }

  [[menu.main]]
    identifier = "archives"
    name = "归档 - Archives"
    url = "/page/archives/"
    weight = -80
    params = { newTab = false, icon = "archives" }

  [[menu.main]]
    identifier = "tools"
    name = "小玩意 - Creation"
    url = "http://victor42.work/"
    weight = -50
    params = { newTab = true, icon = "flask" }

  [[menu.main]]
    identifier = "about"
    name = "关于我 - About"
    url = "/page/about/"
    weight = -20
    params = { newTab = false, icon = "user" }

# 社交媒体链接（通过menu配置 - Stack v3.32.0要求）
[[menu.social]]
name = "Twitter"
url = "https://x.com/victor_cheng_42"
weight = 1
[menu.social.params]
icon = "brand-twitter"

[[menu.social]]
name = "知乎"
url = "https://www.zhihu.com/people/victor_42"
weight = 2
[menu.social.params]
icon = "brand-zhihu"

[[menu.social]]
name = "GitHub"
url = "https://github.com/greenzorro"
weight = 3
[menu.social.params]
icon = "brand-github"

[params.main]
style = "light" 

# 分类法配置
[taxonomies]
category = "categories"

# Markdown 渲染配置
[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true

[markup.highlight]
  noClasses = false

# 相关内容配置
[related]
includeNewer = true
threshold = 80
toLower = true

  [[related.indices]]
  name = "section"
  weight = 80

  [[related.indices]]
  name = "categories"
  weight = 40

  [[related.indices]]
  name = "date"
  weight = 20

# 其他服务配置
disqusShortname = 'victor_42'

# Sitemap配置
[sitemap]
  changefreq = "weekly"
  filename = "sitemap.xml"
  priority = 0.5

# 禁用多语言sitemap索引
disableLanguages = []
enableGitInfo = true

# 确保只生成一个sitemap
[params.sitemap]
  disable_multilingual = true

[outputs]
  home = ["HTML", "RSS", "Sitemap"]
  section = ["HTML", "RSS"]
  taxonomy = ["HTML", "RSS"]
  term = ["HTML", "RSS"]

[outputFormats]
  [outputFormats.Sitemap]
    mediaType = "application/xml"
    baseName = "sitemap"
    isHTML = false
# Force rebuild
