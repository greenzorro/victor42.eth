<!doctype html><html lang dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="I built a non-existent app, coding on my phone."><title>Fed Up with News Apps, I Added Some AI</title><link rel=canonical href=https://victor42.eth.limo/post-en/3652/><link rel=alternate hreflang=zh-cn href=https://victor42.eth.limo/post/3652/><link rel=alternate hreflang=en href=https://victor42.eth.limo/post-en/3652/><link rel=alternate hreflang=x-default href=https://victor42.eth.limo/post/3652/><link rel=stylesheet href=../../scss/style.min.40f93d237e772107465be0139c6f50f9e3f786c537d4e20127403584626ce0b6.css><meta property="og:image" content="https://cdn.victor42.work/posts/2024-08/90415a2f2e2fa7829fae2a10f117f392.jpg"><meta property="og:url" content="https://victor42.eth.limo/post-en/3652/"><meta property="og:site_name" content="Victor42"><meta property="og:type" content="article"><meta property="article:section" content="post-en"><meta property="article:published_time" content="2024-08-13T13:31:00Z"><meta property="article:modified_time" content="2024-08-13T13:31:00Z"><meta property="article:author" content="Victor42"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Fed Up with News Apps, I Added Some AI"><meta name=twitter:description content="I built a non-existent app, coding on my phone."><meta name=twitter:image content="https://cdn.victor42.work/posts/2024-08/90415a2f2e2fa7829fae2a10f117f392.jpg"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/victor42.eth.limo\/post-en\/3652\/"},"headline":"Fed Up with News Apps, I Added Some AI","description":"I built a non-existent app, coding on my phone.","image":"https:\/\/cdn.victor42.work\/posts\/2024-08\/90415a2f2e2fa7829fae2a10f117f392.jpg","author":{"@type":"Person","name":"Victor42"},"publisher":{"@type":"Organization","name":"Victor42","logo":{"@type":"ImageObject","url":"https:\/\/victor42.eth.limo\/favicon.ico"}},"datePublished":"2024-08-13T13:31:00\u002b00:00","dateModified":"2024-08-13T13:31:00\u002b00:00","wordCount":2944,"timeRequired":"PT15M"}</script><link rel="shortcut icon" href=#ZgotmplZ><script async src="https://www.googletagmanager.com/gtag/js?id=G-H0F3NJJ4RT"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H0F3NJJ4RT")</script><link rel=stylesheet href=../../css/custom-override.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-H0F3NJJ4RT"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H0F3NJJ4RT")</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=../../><img src=https://cdn.victor42.work/assets/pale-blue-dot.jpg width=300 height=300 class=site-logo loading=lazy alt="Victor42 Avatar"></a></figure><div class=site-meta><h1 class=site-name><a href=../../>Victor42</a></h1><h2 class=site-description>ÁßëÂ≠¶„ÄÅÁ∫™ÂΩïÁâá„ÄÅÂçöÁâ©È¶ÜÁà±Â•ΩËÄÖÔºõExcelÁãÇÈ≠îÔºõËπ©ËÑöÂºÄÂèëËÄÖÔºõUI/UXËÆæËÆ°Â∏àÔºõÁîüÊ¥ªËßÇÂØüËÄÖ</h2></div></header><ol class=social-menu><li><a href=https://x.com/victor_cheng_42 target=_blank title=Twitter rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li><li><a href=https://www.zhihu.com/people/victor_42 target=_blank title=Áü•‰πé rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-zhihu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 6h6v12h-2l-2 2-1-2h-1z"/><path d="M4 12h6.5"/><path d="M10.5 6h-5"/><path d="M6 4c-.5 2.5-1.5 3.5-2.5 4.5"/><path d="M8 6v7c0 4.5-2 5.5-4 7"/><path d="M11 18l-3-5"/></svg></a></li><li><a href=https://github.com/greenzorro target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=../../><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>‰∏ªÈ°µ - Home</span></a></li><li><a href=../../page/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>ÂΩíÊ°£ - Archives</span></a></li><li><a href=http://victor42.work/ target=_blank><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-flask" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="9" y1="3" x2="15" y2="3"/><line x1="10" y1="9" x2="14" y2="9"/><path d="M10 3v6L6 20a.7.7.0 00.5 1h11a.7.7.0 00.5-1L14 9V3"/></svg><span>Â∞èÁé©ÊÑè - Creation</span></a></li><li><a href=../../page/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>ÂÖ≥‰∫éÊàë - About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#background>Background</a></li><li><a href=#implementation>Implementation</a></li><li><a href=#building-blocks>Building Blocks</a><ul><li><a href=#tasker-intro>Tasker Intro</a></li><li><a href=#fetching-content>Fetching Content</a></li><li><a href=#parsing-xml>Parsing XML</a></li><li><a href=#extracting-content-from-html>Extracting Content from HTML</a></li><li><a href=#ai-classification>AI Classification</a></li><li><a href=#text-to-speech>Text to Speech</a></li></ul></li><li><a href=#putting-the-pieces-together>Putting the Pieces Together</a><ul><li><a href=#downloading-and-filtering-news>Downloading and Filtering News</a></li><li><a href=#priority-issues>Priority Issues</a></li><li><a href=#downloading-news-from-multiple-sources>Downloading News from Multiple Sources</a></li><li><a href=#scheduled-downloads-and-conversion>Scheduled Downloads and Conversion</a></li></ul></li><li><a href=#the-final-result>The Final Result</a></li><li><a href=#epilogue>Epilogue</a></li><li><a href=#resources>Resources</a></li></ul></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=../../post-en/3652/><img src=https://cdn.victor42.work/posts/2024-08/90415a2f2e2fa7829fae2a10f117f392.jpg loading=lazy alt="Featured image of post Fed Up with News Apps, I Added Some AI"></a></div><div class=article-details><div class=article-header-wrapper><header class=article-category><a href=../../categories/%E6%8A%98%E8%85%BE%E4%B8%8E%E6%80%9D%E8%80%83-geek/>ÊäòËÖæ‰∏éÊÄùËÄÉ-Geek</a></header><div class=article-lang-switcher><a href=https://victor42.eth.limo/post/3652/ class=lang-switch-button><span class=lang-switch-icon>üåè</span>
<span class=lang-switch-text>‰∏≠Êñá</span></a></div></div><div class=article-title-wrapper><h2 class=article-title><a href=../../post-en/3652/>Fed Up with News Apps, I Added Some AI</a></h2><h3 class=article-subtitle>I built a non-existent app, coding on my phone.</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published datetime=2024-08-13T13:31:00Z>Aug 13, 2024</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>15 minute read</time></div></footer></div></header><section class=article-content><p><strong>Note: This article involves Tasker, AI, front-end development, and automation. It&rsquo;s a bit technical.</strong></p><h2 id=background>Background</h2><p>I&rsquo;m all about avoiding low-value information. I usually follow specific channels for my interests, but I also need a way to catch major events in other fields, to avoid getting stuck in an echo chamber.</p><p>I used to listen to the radio while driving my family around, to get the news. The info fell into two categories:</p><ol><li>Useless: Sports, entertainment, and military news (often unreliable or biased).</li><li>Potentially useful, but I had to listen to find out: Social news, trends, and tech-related social phenomena. Of course, much of it was fluff, like a celebrity hit-and-run.</li></ol><p>During the Paris Olympics, my news time was swamped with Olympics coverage. I had to keep glancing at my car&rsquo;s screen to skip stories, which was unsafe and annoying.</p><p>I&rsquo;ve tried many news apps with audio. The headlines channels were full of uninteresting stuff. Subscribing to specific channels meant long, in-depth reports ‚Äì not ideal for a short drive. Update frequencies also varied wildly; some channels would dominate, effectively silencing others.</p><p>Then it hit me: I can usually tell if a story is interesting just from the headline. Why not use AI for this? Could I filter out unwanted stories from a headlines channel?</p><p>The idea stuck.</p><h2 id=implementation>Implementation</h2><p>It wasn&rsquo;t technically difficult, but I couldn&rsquo;t find anything like it. Maybe it&rsquo;s too niche, so I built it myself!</p><p>My phone was the obvious choice, since that&rsquo;s where I listen to news. This avoids relying on other devices. What if I&rsquo;m on vacation? Luckily, I&rsquo;m familiar with Tasker, an Android app that&rsquo;s essentially programming software.</p><p>Here&rsquo;s the process:</p><ol><li>Fetch the day&rsquo;s top news.</li><li>Use AI to categorize headlines.</li><li>Filter out unwanted categories, saving the rest as text.</li><li>Convert the text to audio.</li><li>Automate this to run nightly.</li><li>Create a playlist for the audio news.</li><li>Auto-start the player when connected to my car&rsquo;s Bluetooth.</li><li>Clear old news daily.</li></ol><h2 id=building-blocks>Building Blocks</h2><p>This sounds complex, but I didn&rsquo;t have to reinvent the wheel. I just needed to integrate existing tools. I created small modules (subtasks) for the core functions, ready for assembly.</p><h3 id=tasker-intro>Tasker Intro</h3><p>Tasker is the backbone. It&rsquo;s an automation tool that lets you combine hardware control, math, file operations, network requests, and logic into workflows. Think iPhone Shortcuts, but much more powerful ‚Äì it&rsquo;s programming software.</p><p>Basic usage is simple: mute the phone on company Wi-Fi, or start music on Bluetooth connection. More advanced uses, like file operations and network requests, require programming logic, but no actual coding.</p><h3 id=fetching-content>Fetching Content</h3><p>The first subtask browses the news source.</p><p><strong>Input: News source link</strong><br><strong>Output: Code with the news list</strong></p><p><img src=https://cdn.victor42.work/posts/2024-08/7c717fff18ada6917cc6ddb9ab5acab4.jpg loading=lazy></p><p>It uses Tasker&rsquo;s HTTP request. I just passed the info to the outer task. Wrapping it in a layer relates to subtask execution priority, which I&rsquo;ll explain later.</p><h3 id=parsing-xml>Parsing XML</h3><p>RSS news feeds provide XML, not directly readable news.</p><p><img src=https://cdn.victor42.work/posts/2024-08/d9b55eddd9d7d7e26b86fffe3dc56a1f.jpg loading=lazy></p><p>RSS is standardized. Each news item is an &ldquo;item,&rdquo; with &ldquo;title,&rdquo; &ldquo;link,&rdquo; and &ldquo;description&rdquo; tags.</p><p>Before parsing, I standardized the XML. Webpages sometimes use escaped characters (e.g., <code>&lt;</code> as <code>&amp;lt;</code>). This subtask converts them back.</p><p><strong>Input: XML with escaped characters</strong><br><strong>Output: Standard XML</strong></p><p><img src=https://cdn.victor42.work/posts/2024-08/c117f68d572158b87dc54acd03427ad3.jpg loading=lazy></p><p>Next, parsing. This subtask extracts content from specific XML tags, separating them with <code>|||</code>.</p><p><strong>Input: Full XML, tag to extract</strong><br><strong>Output: All content within that tag</strong></p><p><img src=https://cdn.victor42.work/posts/2024-08/97c487fda93b7ef67d871a58ebd06721.jpg loading=lazy></p><p>I use it to find all &ldquo;item&rdquo; tags (the news list). The outer task passes &ldquo;item&rdquo; as %par2, getting all news items separated by <code>|||</code>.</p><h3 id=extracting-content-from-html>Extracting Content from HTML</h3><p>The previous subtask gets the news list, but only the title and link are really useful. &ldquo;Description&rdquo; varies; some sources include the full text, others just a summary, with the full text on a details page.</p><p>This subtask extracts content from a page&rsquo;s HTML, removing menus, comments, ads, etc.</p><p><strong>Input: Full HTML, tag to extract</strong><br><strong>Output: First content within that tag</strong></p><p><img src=https://cdn.victor42.work/posts/2024-08/0f45bc228aba2af149ceeb0c69a67907.jpg loading=lazy></p><p>It&rsquo;s complex because of nested HTML tags. It finds the tag&rsquo;s end to define the content range, using string manipulation to mimic Javascript&rsquo;s <code>innerHTML</code>.</p><p>The result is still HTML, so another subtask converts it to plain text ‚Äì a built-in Tasker feature.</p><p><strong>Input: HTML code</strong><br><strong>Output: Text content</strong></p><p><img src=https://cdn.victor42.work/posts/2024-08/75b7ba16f35c56d3bb121026e9098eeb.jpg loading=lazy></p><h3 id=ai-classification>AI Classification</h3><p>This is the core: the program&rsquo;s brain.</p><p><strong>Input: Content for AI, AI model name</strong><br><strong>Output: AI response</strong></p><p><img src=https://cdn.victor42.work/posts/2024-08/05c6c50a2cba1cad021f550344301002.jpg loading=lazy></p><p><a class=link href=https://console.groq.com/playground target=_blank rel=noopener>Groq&rsquo;s API</a> is great, offering many open-source AI models. It&rsquo;s simple: send text, get generated text back. The 2-second wait is due to the API&rsquo;s 30 calls/minute limit.</p><h3 id=text-to-speech>Text to Speech</h3><p>This subtask converts text files to audio in batches.</p><p><strong>Input: Text file directory, audio output directory</strong><br><strong>Output: Batch of audio files</strong></p><p><img src=https://cdn.victor42.work/posts/2024-08/c1dabc63612d30a30e611297c14b6493.jpg loading=lazy></p><p>It uses Tasker&rsquo;s &ldquo;Say To File,&rdquo; saving text as audio. &ldquo;Say To File&rdquo; is just the operation; the speech synthesis engine isn&rsquo;t built-in.</p><p><img src=https://cdn.victor42.work/posts/2024-08/995e0fb18649e334014f111ea8be2b8d.jpg loading=lazy></p><p>I used Google&rsquo;s local engine. Download the app from Google Play, and Tasker can use it.</p><p><img src=https://cdn.victor42.work/posts/2024-08/07e0c2612c68af093e0a4e5c942ab102.jpg loading=lazy></p><p>The local engine is comparable to map software&rsquo;s default voice. Google&rsquo;s is decent, better than iFlytek&rsquo;s, but still robotic.</p><h2 id=putting-the-pieces-together>Putting the Pieces Together</h2><p>Now that we have our tools, and most of the hard parts are solved, let&rsquo;s assemble everything.</p><h3 id=downloading-and-filtering-news>Downloading and Filtering News</h3><p>First, we&rsquo;ll build the core task: downloading news from a single source, filtering it, and saving it as text files. This is the heart of the process.</p><p><strong>Input: News source URL, HTML tag containing the article body</strong><br><strong>Output: News text files</strong></p><p>I added a shortcut for the second input. If you enter <code>&lt;description></code>, it uses the description from the XML instead of fetching the article&rsquo;s detail page. This works best with high-quality news sources, and you can set it in the parent task.</p><p><img src=https://cdn.victor42.work/posts/2024-08/64acc1961ddd336d05f0b9aba63739ec.jpg loading=lazy></p><p>We fetch the full XML, clean up escaped characters, and remove some special content tags. Then, we extract the news list.</p><p><img src=https://cdn.victor42.work/posts/2024-08/b52349abcd5a92bb918c797c3043868a.jpg loading=lazy></p><p>The news list is split into an array. We set up the AI prompt and a maximum article length (to avoid overly long articles). Then, we loop through each news item, read and convert the title to plain text, and send it to the AI for categorization.</p><p><img src=https://cdn.victor42.work/posts/2024-08/ba4c7edd6576c053b69d271d37f2bd88.jpg loading=lazy></p><p>Here&rsquo;s the AI prompt. I kept it simple, just telling it what to do. Groq&rsquo;s Gemma2 9b model works well for Chinese text, better than Llama3. A small open-source model is perfect for this, and it hasn&rsquo;t made any mistakes.</p><p><img src=https://cdn.victor42.work/posts/2024-08/3e5a40b3c15e4e3661f026de131b45f0.jpg loading=lazy></p><p>We filter out sports, entertainment, and military news based on the AI&rsquo;s categorization. Then, we get the news detail page link, fetch the full HTML, clean it up, and extract the content using the specified HTML tag.</p><p>We convert the article body from HTML to text, check its length, and filter out anything too long or short (likely image-based news). The remaining articles are saved as text files.</p><h3 id=priority-issues>Priority Issues</h3><p>During debugging, I couldn&rsquo;t get content consistently. It took a while to realize the subtasks were running in parallel.</p><p>Tasker&rsquo;s core feature, &ldquo;Perform Task,&rdquo; runs a subtask within the current task, passing data and receiving results.</p><p>It&rsquo;s like function calls in programming. Tasker limits you to two parameters, but you can combine multiple parameters into a string using a separator, then split them in the subtask. This allows for any number of parameters. This nesting lets you build complex logic, making &ldquo;Perform Task&rdquo; a key programming feature in Tasker.</p><p><img src=https://cdn.victor42.work/posts/2024-08/9fe1b7073ff0b94fab2859978f94ec9f.jpg loading=lazy></p><p>The &ldquo;Perform Task&rdquo; documentation mentions execution order. The parent task doesn&rsquo;t wait for a triggered subtask to finish before continuing. Many of my subtasks fetch content or loop through page code, which takes time. If the parent task proceeds before the subtask returns a result, things break.</p><p><img src=https://cdn.victor42.work/posts/2024-08/1091748819015f7296ec93d7500e5475.jpg loading=lazy></p><p>Following the documentation, I set the subtask&rsquo;s Priority to %priority+1 (one higher than the parent). This forces the parent task to wait.</p><h3 id=downloading-news-from-multiple-sources>Downloading News from Multiple Sources</h3><p>That was a complex task! Now, let&rsquo;s use it.</p><p><img src=https://cdn.victor42.work/posts/2024-08/a0a90a2ca998bca90156e3cfe59040b5.jpg loading=lazy></p><p>I pass my RSS feeds and article body locations to the core task. It runs for each source.</p><p><img src=https://cdn.victor42.work/posts/2024-08/d6d37dbe8a8195e2d6c7674104fc533f.jpg loading=lazy></p><p>Then, I created a separate task for batch conversion to speech, specifying the input (text news) and output (audio news) directories.</p><h3 id=scheduled-downloads-and-conversion>Scheduled Downloads and Conversion</h3><p>These are the tasks, but how do they run? On Tasker&rsquo;s Profiles page, you can add triggers for your tasks.</p><p><img src=https://cdn.victor42.work/posts/2024-08/bf1751cc5b2863826ff82d819e8b8859.jpg loading=lazy></p><p>Every day at 4 AM, save all news as text files (takes 5-10 minutes).</p><p><img src=https://cdn.victor42.work/posts/2024-08/e1f5ef475b315060c9a3679f7a0e0603.jpg loading=lazy></p><p>Every day at 5 AM, convert the text news to audio.</p><h2 id=the-final-result>The Final Result</h2><p>When I wake up, there are two folders in the News directory.</p><p><img src=https://cdn.victor42.work/posts/2024-08/7add1606a97bddcc6fdee7af42f71cb1.jpg loading=lazy></p><p><code>text</code> contains the text versions, which I can share.</p><p><img src=https://cdn.victor42.work/posts/2024-08/4d00497b3a8e5554ff90aeccfe11dcbd.jpg loading=lazy></p><p><code>audio</code> contains the audio news. Some local news still gets in, but the AI is doing its job filtering out sports.</p><p><img src=https://cdn.victor42.work/posts/2024-08/fb2a13c2d652d15b0653f2e39be0beea.jpg loading=lazy></p><p>I created a &ldquo;Daily News&rdquo; playlist in my music player to read the <code>audio</code> folder.</p><p><img src=https://cdn.victor42.work/posts/2024-08/90415a2f2e2fa7829fae2a10f117f392.jpg loading=lazy></p><p>Updating the content brings in the day&rsquo;s news. I still have to update it manually, but I&rsquo;m working on automating that.</p><p><img src=https://cdn.victor42.work/posts/2024-08/0023ce1bc26cb0c58b78cab5d834c033.jpg loading=lazy></p><p>Playback is automatic. My car&rsquo;s Bluetooth connection opens the player, and I use <a class=link href="https://play.google.com/store/search?q=AIMP&amp;c=apps" target=_blank rel=noopener>AIMP player</a>, which auto-plays on open. No interaction needed.</p><p>Finally, a task clears the news folders at 3 AM daily, preparing for the next cycle.</p><h2 id=epilogue>Epilogue</h2><p>My homemade news program has been working great for a few days. I can drive without distraction. The robotic voice is the only minor issue. I might replace &ldquo;Say To File&rdquo; with a better TTS API later.</p><p>This process solved a problem and gave me reusable subtasks. The subtasks for fetching content, parsing XML, extracting HTML, and querying AI are generic. I can now build other programs, create web scrapers, and even AI agents on my phone. Mobile scraping is great: no server costs, and it runs 24/7. I&rsquo;ll explore it further as needed.</p><h2 id=resources>Resources</h2><p>The more complex Tasks are shared publicly for free use. Simpler Tasks are omitted, as they can be built using Tasker&rsquo;s built-in features.</p><p>Bulk TTS:
<a class=link href="https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3ABulk+TTS" target=_blank rel=noopener>https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3ABulk+TTS</a></p><p>Fix XML format:
<a class=link href="https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AFix+XML+format" target=_blank rel=noopener>https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AFix+XML+format</a></p><p>API- Groq (enter your key):
<a class=link href="https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AAPI+-+Groq+%28enter+your+key%29" target=_blank rel=noopener>https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AAPI+-+Groq+%28enter+your+key%29</a></p><p>Fix file name:
<a class=link href="https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AFix+file+name" target=_blank rel=noopener>https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AFix+file+name</a></p><p>Get inner XML(all siblings):
<a class=link href="https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AGet+inner+XML%28all+siblings%29" target=_blank rel=noopener>https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AGet+inner+XML%28all+siblings%29</a></p><p>Get inner XML(first match):
<a class=link href="https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AGet+inner+XML%28first+match%29" target=_blank rel=noopener>https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3AGet+inner+XML%28first+match%29</a></p><p>Download specific categories of news from RSS:
<a class=link href="https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3A%E4%BB%8ERSS%E4%B8%8B%E8%BD%BD%E7%89%B9%E5%AE%9A%E5%88%86%E7%B1%BB%E6%96%B0%E9%97%BB" target=_blank rel=noopener>https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3A%E4%BB%8ERSS%E4%B8%8B%E8%BD%BD%E7%89%B9%E5%AE%9A%E5%88%86%E7%B1%BB%E6%96%B0%E9%97%BB</a></p><p>Download news from multiple channels:
<a class=link href="https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3A%E5%A4%9A%E6%B8%A0%E9%81%93%E4%B8%8B%E8%BD%BD%E6%96%B0%E9%97%BB" target=_blank rel=noopener>https://taskernet.com/shares/?user=AS35m8mopd%2Bc1C7UhZNzgAc6Ld0oCTR8LzUJsfqb7SGyZq7NWeHANGDjDvTtBPSkNCjn3CrFQoI%3D&amp;id=Task%3A%E5%A4%9A%E6%B8%A0%E9%81%93%E4%B8%8B%E8%BD%BD%E6%96%B0%E9%97%BB</a></p></section><footer class=article-footer></footer></article><footer class=site-footer><section class=copyright>&copy;
2011 -
2025 Victor42</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=../../ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>