{{- /* reading-time.html: 计算中英文混合文本的阅读时间 */ -}}
{{- $content := .content -}}
{{- $chineseChars := len (findRE "\\p{Han}" $content) -}}
{{- $englishWords := len (findRE "[\\w']+" $content) -}}

{{/* 中文阅读速度：400字/分钟，英文阅读速度：200词/分钟 */}}
{{- $chineseTime := div $chineseChars 400.0 -}}
{{- $englishTime := div $englishWords 200.0 -}}
{{- $readingTime := math.Max (math.Round (add $chineseTime $englishTime)) 1 -}}

{{- return $readingTime -}} 